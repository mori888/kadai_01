<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>じゃんけん</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <main>
    <img class="back-image" src="image\cosmos.jpg" alt="">
    <img class="earth" src="image\item1.png">
    <p id="head-text" class="head-text">選んでね</p>
    <div id="image-1" class="image-1">
      <img class="meteorite" src="image\item2.png">
      <img class="sound-1" src="image\効果音.png" >
    </div>
    <div id="rocket" class="rocket">
      <img src="image\rocket.png" alt="">
    </div>
    <div id="image-2" class="image-2">
      <img class="explosion" src="image\explosion.png">
      <img class="sound-2" src="image\効果音2.png">
      </div>

      <div class="jyanken" id="jyanken">
          <input type="image" src="image\gu-.png" id="gu_btn" class="hand-image hand-gu"></input>
          <input type="image" src="image\choki.png" id="cho_btn" class="hand-image hand-choki"></input>
          <input type="image" src="image\pa-.png" id="par_btn" class="hand-image hand-pa"></input>
        </div>
      </div>
    
    <div id="win" class="win-image">
      <img src="image\armageddon.jpg" alt="">
    </div >

    <div id="loos" class="loos-iamge">  
      <img src="image\item3.jpg" alt="">
    </div>
    
    <div id="drow" class="drow-text">
      <p>んー...もう一回</p>
    </div>

    <div>
      <a href="janken.html" id="back" class="back-button">最初に戻る</a>
    </div>

  </main>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>

    //ここに処理を追加
  $(function(){
      function win(){
        $('#jyanken').fadeOut(500);
        $('#head-text').hide();
        $('#rocket').show().animate({
          'top': '17vw',
          'left': '60vw'
        },{
          'duration':2000,
          'complete':function(){
            $('#image-1').fadeOut(3000);
            $('.meteorite').attr('src', 'image/explosion.png').delay(2000);
            $('.sound-1').attr('src', 'image/効果音2.png').delay(2000);  
        }
        });
        $('#win').delay(5000).fadeIn(8000);
        $('#drow').text('あなたは勝ちました').delay(4000).fadeIn(2000);
        $('#back').show(500);
      }

      function drow(){
        $('#jyanken').fadeOut(500);
        $('#head-text').hide();
        $('#drow').fadeIn(500);
        $('#back').show(500);
      }

      function loos(){ 
        $('#jyanken').fadeOut(500);
        $('#head-text').hide();
        $('.meteorite').animate({
          'top': '14vw',
          'left': '35vw'
          }, {
          'duration':2000,
          'complete':function(){
            $('#image-1').hide();
            $('#image-2').fadeIn(500);
          }
          });
        $('#loos').delay(3000).fadeIn(2000);
        $('#drow').text('あなたは負けました').delay(4000).fadeIn(2000);
        $('#back').show(500);
      }
    

      function back(){
       
      }
    
      $('#gu_btn').on('click', function (){
        const com =  Math.floor(Math.random()*4 + 1);
          if (com === 1) {
            console.log('com = グー');
            drow(); 
          } 
          if (com === 2) {
            console.log('com = チョキ');
            win();
          }
          if (com === 3) {
            console.log('com = パー');
            loos();
          } 
      });
      
      $('#cho_btn').on('click', function (){
        const com =  Math.floor(Math.random()*4 + 1);
          if (com === 1) {
            console.log('com = グー');
            loos(); 
          } 
          if (com === 2) {
            console.log('com = チョキ');
            drow();
          }
          if (com === 3) {
            console.log('com = パー');
            win();
          } 
      });

      $('#par_btn').on('click', function (){
        const com =  Math.floor(Math.random()*4 + 1);
          if (com === 1) {
            console.log('com = グー');
            win(); 
          } 
          if (com === 2) {
            console.log('com = チョキ');
            loos();
          }
          if (com === 3) {
            console.log('com = パー');
            drow();
          } 
      });
    });

   
    
  </script>

</body>

</html>